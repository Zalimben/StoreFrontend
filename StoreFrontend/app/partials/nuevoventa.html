<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>
        <h2> Nueva Venta </h2>
        
        <form class="form-horizontal" role="form" ng-submit="add(sales)">
            <div class="form-group">
                <label for="customerId" class="col-sm-2 control-label ">Cliente</label>
                <div class="col-sm-10">              
                    <select ng-model="sales.customerId" id="customerId" class="form-control" ng-options="onecustomer.name for onecustomer in allcustomers" placeholder="Cliente"> </select>
                </div>
            </div>

            <div class="form-group">
              <label for="productId" class="col-sm-2 control-label ">Producto</label>
              <div class="col-sm-10">
                <select ng-model="detail.productId" id="productId" class="form-control" ng-options="oneproduct.description for oneproduct in allproducts" placeholder="Producto"> </select>
              </div>
            </div>
            <div class="form-group">
              <label for="quantity" class="col-sm-2 control-label ">Cantidad</label>
              <div class="col-sm-10">
                <input type="number" ng-model="detail.quantity" class="form-control" id="quantity" placeholder="Inserte datos"/>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <input type="submit" class="btn btn-primary" value="Save"/>
                <input ng-click="add(detail)" class="btn btn-primary" value="Add to cart"/>
              </div>
            </div>
        </form>
        <p> <b> Precio Unitario: </b> <span ng-bind="sales.productId.purchaseCost"> </span> <br> </p> 
        <p> <b> Precio Total: </b> <span ng-bind="sales.quantity * sales.productId.purchaseCost"> </span> <br> </p>
        <p> <b> Saldo: </b> <span ng-bind="sales.customerId.saldo - (sales.quantity * sales.productId.purchaseCost)" id="sa"> </span> <br> </p>
        <p> <b> </b> <span ng-bind="update(sales.customerId)" id="sa"> </span> <br> </p>
    </div>
        
    <div>
        <h2> Detalle de venta </h2>

        <table  class="table" >
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
        </tr>
        <tr ng-repeat="oneproduct in cart" 
            ng-click="showSelectedElement(oneproduct)"
            ng-class-even="'even'"
            ng-class-odd="'odd'"
            >
            <td>{{oneproduct.productId.description}}</td>
            <td>{{oneproduct.quantity}}</td>
        </tr>
        </table>
        </div>
    </body>
</html>
